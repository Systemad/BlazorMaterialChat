@page "/profile"
@inherits LayoutComponentBase
@inject NavigationManager NavigationManager
@inject HttpClient HttpClient

<div class="main">
    <AuthorizeView>
            <Authorized>
                <div class="top-row px-4">
                    <h4><b>Hello @context.User.Identity.Name</b></h4>
                    <br/>
                </div>
            </Authorized>
            <NotAuthorized>
                <div class="top-row px-4">
                    <p>Not authorized</p>
                    <br/>
                    <MudButton Variant="Variant.Filled" Color="Color.Primary" OnClick="LogoutUser">Register</MudButton>
                </div>
            </NotAuthorized>
    </AuthorizeView> 
</div>
@code{
    
    private async Task LogoutUser()
    {
        await HttpClient.GetAsync("user/logoutuser");
        NavigationManager.NavigateTo("/", true);
    }
    
}